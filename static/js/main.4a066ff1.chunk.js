(this["webpackJsonpteamwork-frontend"]=this["webpackJsonpteamwork-frontend"]||[]).push([[0],{62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(26),r=c.n(n),l=c(5),i=c(2),j=c(27),o=c.n(j).a.create({baseURL:"https://andela-teamwork.herokuapp.com/api"}),d=c(28),b=c(3),m=c(0),u=function(){var e=Object(b.f)(),t=Object(a.useState)(""),c=Object(i.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(""),l=Object(i.a)(r,2),j=l[0],u=l[1],O=Object(a.useState)(""),h=Object(i.a)(O,2),x=h[0],v=h[1],p=Object(a.useState)(""),f=Object(i.a)(p,2),N=f[0],g=f[1];return Object(m.jsxs)("div",{className:"row mt-5",children:[Object(m.jsx)("div",{className:"col-4"}),Object(m.jsxs)("div",{className:"col-4",children:[Object(m.jsx)("h1",{className:"m-5 text-center shadow-lg",children:"Login"}),Object(m.jsxs)("form",{className:"bg-light p-5",onSubmit:function(t){return function(t){t.preventDefault(),v(""),g(""),o.post("/auth/signin",{email:s,password:j}).then((function(t){if("error"===t.data.status)v(t.data.error);else{var c=t.data.data.token,a=Object(d.a)(c);localStorage.setItem("userData",JSON.stringify(a)),e.push("/dashboard")}}))}(t)},children:[Object(m.jsx)("span",{className:"text-danger",children:x}),Object(m.jsx)("span",{className:"text-success",children:N}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Email address"}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"john.doe@gmail.com",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"*********",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Submit"})]})]}),Object(m.jsx)("div",{className:"col-4"})]})},O=function(e){var t=e.sendPost,c=e.error,s=Object(a.useState)(""),n=Object(i.a)(s,2),r=n[0],l=n[1],j=Object(a.useState)(""),o=Object(i.a)(j,2),d=o[0],b=o[1];return Object(m.jsxs)("div",{className:"row mt-5",children:[Object(m.jsx)("div",{className:"col-4"}),Object(m.jsxs)("div",{className:"col-4",children:[Object(m.jsx)("h1",{className:"m-5 text-center shadow-lg",children:"Create a Post"}),Object(m.jsx)("span",{className:"text-danger",children:c}),Object(m.jsxs)("form",{className:"bg-light p-5",onSubmit:function(e){return function(e){e.preventDefault(),t([r,d])}(e)},children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Title"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"title",placeholder:"Subject",value:r,onChange:function(e){return l(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Description"}),Object(m.jsx)("textarea",{type:"text",className:"form-control",id:"description",placeholder:"Write something here...",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Post"})]})]}),Object(m.jsx)("div",{className:"col-4"})]})},h=function(){return JSON.parse(localStorage.getItem("userData"))},x=function(e){h();return void 0!==Object.values(e).find((function(e){return""===e}))?"Please fill all fields":null},v=function(){var e=h(),t=null===e?null:e.user_id,c=Object(b.f)(),s=Object(a.useState)(""),n=Object(i.a)(s,2),r=(n[0],n[1]),l=Object(a.useState)(""),j=Object(i.a)(l,2),d=j[0],u=j[1];return Object(m.jsx)("div",{children:null===e?c.push("/login"):Object(m.jsx)("div",{children:Object(m.jsx)(O,{sendPost:function(e){var a=Object(i.a)(e,2),s=a[0],n=a[1];r({title:s,article:n});var l={user_id:t,title:s,article:n},j=x(l);null===j?o.post("/articles",l).then((function(e){e.data.error?u(e.data.message):(alert(e.data.data.message),c.push("/feed"))})):u(j)},error:d})})})},p=function(){var e=h();return Object(m.jsxs)("div",{className:"row mt-5",children:[Object(m.jsx)("div",{className:"col-4"}),Object(m.jsxs)("div",{className:"col-4",children:[Object(m.jsx)("h1",{className:"m-5 text-center",children:"Dashboard"}),Object(m.jsx)("div",{className:"text-primary",children:Object(m.jsxs)("p",{children:["Hello ",e.firstname,"! Welcome to the dashboard"]})})]}),Object(m.jsx)("div",{className:"col-4"})]})},f=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light fixed-top",children:Object(m.jsx)("div",{className:"",id:"navbarNav",children:Object(m.jsxs)("ul",{className:"navbar-nav",children:[Object(m.jsx)("li",{className:"nav-item active",children:Object(m.jsx)(l.b,{className:"nav-link",to:"/",children:"Home"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(l.b,{className:"nav-link active",to:"/login",children:"Login"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(l.b,{className:"nav-link active",to:"/post",children:"Post"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(l.b,{className:"nav-link active",to:"/register",children:"Register"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(l.b,{className:"nav-link active",to:"/users",children:"Users"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(l.b,{className:"nav-link active",to:"/feed",children:"Feed"})})]})})})})},N=function(){var e=h();return Object(m.jsxs)("div",{className:"mt-5 text-center text-primary row",children:[Object(m.jsx)("div",{className:"col"}),Object(m.jsxs)("div",{className:"col-10 m-5",children:[Object(m.jsx)("h1",{children:"Welcome to TeamWork!"}),Object(m.jsx)("p",{children:"Click a link above"}),Object(m.jsx)("h3",{children:null===e?"Hi Stranger":"Hi ".concat(e.firstname)})]}),Object(m.jsx)("div",{className:"col"})]})},g=function(){var e=h(),t=Object(b.f)(),c=Object(a.useState)(""),s=Object(i.a)(c,2),n=s[0],r=s[1],l=Object(a.useState)(""),j=Object(i.a)(l,2),d=j[0],u=j[1],O=Object(a.useState)(""),v=Object(i.a)(O,2),p=v[0],f=v[1],N=Object(a.useState)(""),g=Object(i.a)(N,2),S=g[0],w=g[1],y=Object(a.useState)(""),k=Object(i.a)(y,2),C=k[0],_=k[1],D=Object(a.useState)(""),I=Object(i.a)(D,2),J=I[0],P=I[1],E=Object(a.useState)(""),F=Object(i.a)(E,2),H=F[0],L=F[1],R=Object(a.useState)(""),U=Object(i.a)(R,2),W=U[0],G=U[1],T=Object(a.useState)(""),A=Object(i.a)(T,2),M=A[0],z=A[1],B=Object(a.useState)(""),q=Object(i.a)(B,2),K=q[0],Q=q[1];return Object(m.jsxs)("div",{className:"row mt-5",children:[Object(m.jsx)("div",{className:"col-4"}),Object(m.jsxs)("div",{className:"col-4",children:[Object(m.jsx)("h1",{className:"m-5 text-center shadow-lg",children:"Register"}),Object(m.jsxs)("form",{className:"bg-light p-5 mb-5",onSubmit:function(c){return function(c){c.preventDefault(),z(""),Q("");var a={firstname:n,lastname:d,email:p,password:S,gender:C,jobrole:J,department:H,address:W},s=x(a);null===s?null!==e&&!0!==e.isadmin?z("Unauthorized!"):o.post("http://localhost:5000/api/auth/create-user",a).then((function(e){e.data.error?z(e.data.message):(alert(e.data.data.message),t.push("/users"))})):z(s)}(c)},children:[Object(m.jsx)("span",{className:"text-danger",children:M}),Object(m.jsx)("span",{className:"text-success",children:K}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Firstname"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"firstname",placeholder:"John",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Lastname"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"lastname",placeholder:"Doe",value:d,onChange:function(e){return u(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Email address"}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"john.doe@gmail.com",value:p,onChange:function(e){return f(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"*********",value:S,onChange:function(e){return w(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Gender"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"gender",placeholder:"M",value:C,onChange:function(e){return _(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Jobrole"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"jobrole",placeholder:"Intern",value:J,onChange:function(e){return P(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Department"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"department",placeholder:"IT",value:H,onChange:function(e){return L(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Address"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"address",placeholder:"4,Street name",value:W,onChange:function(e){return G(e.target.value)}})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Submit"})]})]}),Object(m.jsx)("div",{className:"col-4"})]})},S=c(10),w=c.n(S),y=c(12),k=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("/users");case 2:t=e.sent,c=t.data.message.map((function(e){return Object(m.jsxs)("li",{children:[e.firstname," ",e.lastname]},e.user_id)})),s(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(m.jsxs)("div",{className:"row mt-5",children:[Object(m.jsx)("div",{className:"col-4"}),Object(m.jsxs)("div",{className:"col-4",children:[Object(m.jsx)("h1",{className:"m-5 text-center",children:"All Users"}),Object(m.jsx)("div",{className:"text-primary",children:Object(m.jsx)("ol",{children:c})})]}),Object(m.jsx)("div",{className:"col-4"})]})},C=function(){var e=h(),t=Object(b.f)(),c=Object(a.useState)(""),s=Object(i.a)(c,2),n=s[0],r=s[1],j=function(e){localStorage.setItem("feed",JSON.stringify(e));var c="image"===e.article_url.slice(0,5)?"/gif":"/article";t.push(c)};return Object(a.useEffect)((function(){null!==e&&function(){var e=Object(y.a)(w.a.mark((function e(){var t,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("/feed");case 2:t=e.sent,c=t.data.data[0].map((function(e){return Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-4"}),Object(m.jsxs)("div",{className:"col-4",children:[Object(m.jsx)("h3",{children:e.title}),Object(m.jsxs)("small",{children:["... by ",e.firstname]}),Object(m.jsxs)("p",{children:["".concat(e.article_url.slice(0,50),"..."),Object(m.jsx)(l.b,{to:"#",onClick:function(){return j(e)},children:"Read more"})]})]}),Object(m.jsx)("div",{className:"col-4"})]},e.feed_id)})),r(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(m.jsx)("div",{children:null===e?t.push("/login"):Object(m.jsxs)("div",{className:"mt-5 row",children:[Object(m.jsx)("div",{className:"col"}),Object(m.jsx)("div",{className:"col-10",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"m-5 text-center shadow-lg",children:"Feed"}),n]})}),Object(m.jsx)("div",{className:"col"})]})})},_=function(){return JSON.parse(localStorage.getItem("feed"))},D=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1],n=h(),r=Object(b.f)(),l=_(),j=function(){var e=Object(y.a)(w.a.mark((function e(t,c){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={user_id:t,feed_id:c},e.next=3,o.delete("/feed/".concat(c),{data:a});case 3:"error"===(n=e.sent).data.status?s(n.data.data.message):(alert(n.data.data.message),r.push("/feed"));case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),d=n.firstname===l.firstname?Object(m.jsxs)("div",{className:"row mt-5",children:[Object(m.jsx)("div",{className:"col-4 text-left",children:Object(m.jsx)("button",{className:"btn btn-success",children:"Edit"})}),Object(m.jsx)("div",{className:"col-4 text-center text-danger",children:c}),Object(m.jsx)("div",{className:"col-4 text-right",children:Object(m.jsx)("button",{className:"btn btn-danger",onClick:function(){return j(n.user_id,l.feed_id)},children:"Delete"})})]}):null;return Object(m.jsx)("div",{children:null===n?r.push("/login"):Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"row mt-5",children:[Object(m.jsx)("div",{className:"col-4"}),Object(m.jsxs)("div",{className:"col-4",children:[Object(m.jsx)("h1",{className:"mt-5  text-center shadow-lg",children:l.title}),Object(m.jsxs)("small",{className:"text-center d-block",children:["...by ",l.firstname]}),d,Object(m.jsx)("p",{className:"bg-light p-5",children:l.article_url})]}),Object(m.jsx)("div",{className:"col-4"})]})})})},I=function(){var e=h(),t=Object(b.f)();return Object(m.jsx)("div",{children:null===e?t.push("/login"):Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"row mt-5",children:[Object(m.jsx)("div",{className:"col-4"}),Object(m.jsxs)("div",{className:"col-4",children:[Object(m.jsx)("h1",{className:"m-5 text-center shadow-lg",children:"GIF"}),Object(m.jsx)("p",{children:"GIF"})]}),Object(m.jsx)("div",{className:"col-4"})]})})})},J=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{}),Object(m.jsxs)(b.c,{children:[Object(m.jsx)(b.a,{exact:!0,path:"/",component:N}),Object(m.jsx)(b.a,{exact:!0,path:"/login",component:u}),Object(m.jsx)(b.a,{exact:!0,path:"/post",component:v}),Object(m.jsx)(b.a,{exact:!0,path:"/dashboard",component:p}),Object(m.jsx)(b.a,{exact:!0,path:"/register",component:g}),Object(m.jsx)(b.a,{exact:!0,path:"/users",component:k}),Object(m.jsx)(b.a,{exact:!0,path:"/feed",component:C}),Object(m.jsx)(b.a,{exact:!0,path:"/article",component:D}),Object(m.jsx)(b.a,{exact:!0,path:"/gif",component:I})]})]})};c(62),c(63);r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(l.a,{children:Object(m.jsx)(J,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.4a066ff1.chunk.js.map